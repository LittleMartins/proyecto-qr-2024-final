<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home-alumnos"></ion-back-button>
    </ion-buttons>
    <ion-title>Mis Cursos</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  
  <div class="courses-container">
    <!-- Resumen de Asistencia -->
    <ion-card class="attendance-summary">
      <ion-card-content>
        <div class="attendance-circle">
          <circle-progress
            [percent]="asistenciaTotal"
            [radius]="60"
            [outerStrokeWidth]="10"
            [innerStrokeWidth]="5"
            [outerStrokeColor]="'#4CAF50'"
            [innerStrokeColor]="'#E0E0E0'"
            [animation]="true"
            [animationDuration]="300"
            [subtitle]="'Asistencia Total'"
          ></circle-progress>
        </div>
      </ion-card-content>
    </ion-card>

    <ion-toolbar>
     
    </ion-toolbar>
    <!-- Cursos -->
    <div class="courses-grid">
      <!-- Programación de Apps Móviles -->
      <ion-card class="course-card" (click)="verDetallesCurso('apps')">
        <div class="course-header apps-bg">
          <ion-icon name="phone-portrait-outline"></ion-icon>
        </div>
        <ion-card-content>
          <h2>Programación de Apps Móviles</h2>
          <div class="course-stats">
            <div class="stat">
              <ion-icon name="calendar-outline"></ion-icon>
              <span>Lunes y Miércoles</span>
            </div>
            <div class="stat">
              <ion-icon name="time-outline"></ion-icon>
              <span>08:30 - 10:50</span>
            </div>
            <div class="attendance-bar">
              <div class="progress" 
                   [style.width]="calcularPorcentajePorCurso('apps') + '%'">
              </div>
              <span>
                {{ asistenciasPorCurso['apps'] || 0 }}/{{ totalClasesPorCurso['apps'] || 0 }} 
                ({{ calcularPorcentajePorCurso('apps') }}% Asistencia)
              </span>
            </div>
          </div>
        </ion-card-content>
      </ion-card>

      <!-- Arquitectura -->
      <ion-card class="course-card" (click)="verDetallesCurso('arquitectura')">
        <div class="course-header architecture-bg">
          <ion-icon name="business-outline"></ion-icon>
        </div>
        <ion-card-content>
          <h2>Arquitectura</h2>
          <div class="course-stats">
            <div class="stat">
              <ion-icon name="calendar-outline"></ion-icon>
              <span>Martes y Jueves</span>
            </div>
            <div class="stat">
              <ion-icon name="time-outline"></ion-icon>
              <span>11:00 - 13:20</span>
            </div>
            <div class="attendance-bar">
              <div class="progress" 
                   [style.width]="calcularPorcentajePorCurso('arquitectura') + '%'">
              </div>
              <span>
                {{ asistenciasPorCurso['arquitectura'] || 0 }}/{{ totalClasesPorCurso['arquitectura'] || 0 }} 
                ({{ calcularPorcentajePorCurso('arquitectura') }}% Asistencia)
              </span>
            </div>
          </div>
        </ion-card-content>
      </ion-card>

      <!-- Estadística Descriptiva -->
      <ion-card class="course-card" (click)="verDetallesCurso('estadistica')">
        <div class="course-header statistics-bg">
          <ion-icon name="stats-chart-outline"></ion-icon>
        </div>
        <ion-card-content>
          <h2>Estadística Descriptiva</h2>
          <div class="course-stats">
            <div class="stat">
              <ion-icon name="calendar-outline"></ion-icon>
              <span>Viernes</span>
            </div>
            <div class="stat">
              <ion-icon name="time-outline"></ion-icon>
              <span>14:00 - 16:20</span>
            </div>
            <div class="attendance-bar">
              <div class="progress" 
                   [style.width]="calcularPorcentajePorCurso('estadistica') + '%'">
              </div>
              <span>
                {{ asistenciasPorCurso['estadistica'] || 0 }}/{{ totalClasesPorCurso['estadistica'] || 0 }} 
                ({{ calcularPorcentajePorCurso('estadistica') }}% Asistencia)
              </span>
            </div>
          </div>
        </ion-card-content>
      </ion-card>

      <!-- Calidad Software -->
      <ion-card class="course-card" (click)="verDetallesCurso('calidad')">
        <div class="course-header quality-bg">
          <ion-icon name="shield-checkmark-outline"></ion-icon>
        </div>
        <ion-card-content>
          <h2>Calidad Software</h2>
          <div class="course-stats">
            <div class="stat">
              <ion-icon name="calendar-outline"></ion-icon>
              <span>Martes y Jueves</span>
            </div>
            <div class="stat">
              <ion-icon name="time-outline"></ion-icon>
              <span>16:30 - 18:50</span>
            </div>
            <div class="attendance-bar">
              <div class="progress" 
                   [style.width]="calcularPorcentajePorCurso('calidad') + '%'">
              </div>
              <span>
                {{ asistenciasPorCurso['calidad'] || 0 }}/{{ totalClasesPorCurso['calidad'] || 0 }} 
                ({{ calcularPorcentajePorCurso('calidad') }}% Asistencia)
              </span>
            </div>
          </div>
        </ion-card-content>
      </ion-card>
    </div>
  </div>
  <ion-footer class="ion-no-border">
  </ion-footer>
</ion-content>
