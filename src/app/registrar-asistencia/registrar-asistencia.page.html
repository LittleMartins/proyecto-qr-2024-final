<ion-header class="modern-header" [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <div class="header-content">
      <h1>Registrar Asistencia</h1>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="main-container">
    <!-- Tarjeta de Escaneo -->
    <div class="scan-card">
      <div class="scan-content">
        <div class="qr-container">
          <ion-icon name="qr-code-outline"></ion-icon>
          <div class="scan-ring"></div>
        </div>
        <h2>Escanear Código QR</h2>
        <p>Coloca el código QR dentro del marco para registrar tu asistencia</p>
        <ion-button expand="block" (click)="iniciarEscaneoQR()" class="scan-btn">
          <ion-icon name="scan-outline" slot="start"></ion-icon>
          Iniciar Escaneo
        </ion-button>
      </div>
    </div>

    <h1>hola</h1>
    
    <h1>hola</h1>
    <!-- Lista de Registros -->
    <div class="records-section">
      <div class="section-header">
        <h3>Registros Recientes</h3>
      </div>

      <div class="records-list">
        <div class="record-item" *ngFor="let registro of ultimosRegistros">
          <div class="record-status" [class.success]="registro.estado === 'success'">
            <ion-icon [name]="registro.estado === 'success' ? 'checkmark-circle' : 'alert-circle'">
            </ion-icon>
          </div>
          <div class="record-details">
            <div class="record-info">
              <h4>{{registro.nombre}}</h4>
              <p>{{registro.fecha | date:'EEEE d MMMM':'':'es'}}</p>
            </div>
            <span class="record-time">{{registro.fecha | date:'HH:mm'}}</span>
          </div>
        </div>
        <H1> oskdaosd </H1>

        <!-- Estado vacío -->
        <div class="empty-state" *ngIf="ultimosRegistros.length === 0">
          <ion-icon name="calendar-outline"></ion-icon>
          <h4>No hay registros recientes</h4>
          <p>Los registros de asistencia aparecerán aquí</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Overlay del Scanner -->
  <div class="scanner-overlay" *ngIf="escanerActivo">
    <div class="scanner-frame">
      <div class="scanner-corners"></div>
      <div class="scan-line"></div>
    </div>
    <div class="scanner-controls">
      <p>Centra el código QR en el marco</p>
      <ion-button (click)="detenerEscaneoQR()" color="light" fill="outline">
        Cancelar
      </ion-button>
    </div>
  </div>
</ion-content>
